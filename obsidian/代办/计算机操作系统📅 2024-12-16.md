一、选择题 15x2
二、判断 需要改错 5x2
三、简答 5x4
四、解答 
- PV操作
- 银行家算法（work矩阵 表格）
- 页面置换算法 最佳、先进先出、最近最久未使用、最少使用
- 磁盘调度
- 地址转换（段式、页式） 逻辑地址->物理地址
- 进程调度算法求周转时间（）


#### 1. 操作系统的作用（p2）
a.作为用户与计算机硬件系统之间的接口
b.作为计算机系统资源的管理者
c.实现了对计算机资源的抽象

#### 2. 操作系统的发展过程（p6）
##### 1️⃣为什么从单道批处理系统->多道批处理系统
单道批处理系统不能充分地利用系统资源，而多道批处理资源利用率高，提高内存资源的利用率

##### 2️⃣为什么从分时->实时
分时无法进行人机交互，而实时系统就有更强的技术性

##### 3️⃣分时系统有什么特点、实时系统有什么特点、单/多道批处理有什么特点
##### 分时系统：
- 多路性
- 独立性
- 及时性
- 交互性

##### 实时系统：
- 多路信
- 独立性
- 及时性
- 交互性
- 可靠性

##### 单道批处理：
系统对作业的处理是成批进行的，但在内存中始终只保持一道作业
- 自动性：在顺利的情况下，磁带上的一批作业能自动地逐个运行，无须人工干预
- 顺序性：磁带上各道作业顺序进入内存，顺序进入内存完成
- 单道性

缺点：系统资源得不到充分利用

##### 多道批处理：
多个程序同时进入内存，允许它们再CPU交替运行
- 多道
- 宏观上并行
- 微观上串行

优点：资源利用率高 系统吞吐量大
缺点：平均周转时间长 无交互能力

##### 批处理特点、分时特点的处理

##### 单道和多道的区别


#### 3.操作系统的基本特征：并发和并行（p14）
并行：两个或多个事件在用一时刻发生
并发：两个或多个事件在同一时间间隔内发生

**同一时间间隔（并发），同一时刻（并行）**


#### 4.共享、虚拟、异步需要理解
##### 共享：
**互斥共享方式**：打印机，磁带机 提供多线程使用，但特定时间段只允许一个线程访问
**同时访问方式**：系统中还有另一类资源，允许一段时间内多进程对他们进行访问

##### 虚拟：
将一个物理实体变为若干个逻辑上的对应物
**时分复用技术**：虚拟机，虚拟设备，提高资源利用率 利用某设备为以用户服务的空闲时间，又转去为其他用户服务
**空分复用技术**：电信业 将一个频率范围比较宽的信道划分成多个频率范围较窄的信道 利用处理机的空闲时间运行其他程序，提高了处理机的利用率

##### 异步：
程序发起I/O请求后，无须等待进程完成，可以继续执行其他任务


#### 5. 微内核的好处
- 提高了系统的可扩展性
- 增强了系统的可靠性
- 可移植性强
- 提供了对分布式系统的支持
- 融入了面向对象技术



#### 6.进程和线程的区别	
（1）调度：线程作为调度和分配的基本单位，进程作为拥有资源的基本单位，进程上下文切换开销大，线程切换开销小
（2）并发性：不仅进程之间可以并发执行，同一个进程的多个线程之间也可并发执行
（3）拥有资源：进程是拥有资源的一个独立单位，线程不拥有系统资源，但可以访问隶属于进程的资源.
（4）系统开销：在创建或撤消进程时，由于系统都要为之分配和回收资源，导致系统的开销明显大于创建或撤消线程时的开销。
（5）独立性：每个进程永远独立的地址空间和资源，线程则为共享进程的地址空间和资源
（6）支持多处理机系统：进程只能在一个处理机上，线程可以分配到多个处理机上




#### 7.进程的状态转换（40页 状态图 2-5）
 - 就绪：无cpu资源 进程已处于准备好运行的状态
 - 执行：进程已获得cpu
 - 阻塞：事件暂时无法继续执行

![[images/IMG_0825.jpeg]]


#### 8.⭐进程的同步 
##### 什么同步、互斥
**同步**是指为完成某种任务而建立的两个或多个进程，这些进程在某些位置上协调它们的工作次序
**互斥**指的是在任一时刻，只允许一个进程访问某个共享资源。
为禁止两个进程同时进入临界区，同步机制应遵循以下准则：
（1）空闲让进
（2）忙则等待
（3）有限等待
（4）让权等待

##### 临界区和临界资源
临界资源：虽然多个进程可以访问共享系统的各种资源，但其中允许资源一次只能为一个进程所用
访问临界资源的代码叫做临界区
可以把临界资源的访问分为4个部分：
（1）进入区
（2）临界区
（3）退出区
（4）剩余区

❗实现临界区互斥的基本方法：
1. 单标志法
2. 双标志法先检查
3. 双标志法后检查
4. Peterson's Algorithm


❗信号量的含义 例如S=-2 S=7
每个进程执行需要两个同类资源，现在有五个这样的资源，请问最多允许多少内存，避免不死锁
PV的原语，S的加减都需要用原语

#### 9.进程通信 了解
**共享存储**：各个进程对共享空间的访问是互斥的  通信的进程之间存在一块可直接访问的共享空间
**消息传递**：进程间的数据交换以格式化的信息为单位，通过**发送消息**和**接收消息**两个原语进行数据交换
- 直接通信方式：发送进程直接把消息发送给接收进程，并将它挂在进程的消息缓冲队列上，接收进程从消息缓冲队列中取得消息
- 间接通信：发送进程把消息发送到某个中间实体（信箱），接收进程从中间实体取得消息
**管道通信**：以字节流的形式将大量数据写入管道，接收端从管道读取数据。**管道读数据是一次性操作，数据一旦被读取就


#### 10.死锁是什么？产生死锁的原因是什么？产生死锁的四个必要的条件？怎么处理死锁？
死锁：多个进程因竞争资源而造成的一种僵局（互相等待）

死锁产生的原因：
（1）系统资源的竞争：拥有不可剥夺的资源，其数量不足以满足多个进程运行的需要
（2）进程推进顺序非法：进程运行中，请求和释放资源的顺序不当

四个必要的条件：
（1）互斥条件：一段时间内某资源仅为一个进程所占有
（2）不剥夺条件：资源只能主动释放
（3）请求并保持条件：进程已经保持了至少一个资源，但又提出了一个新的资源
（4）循环等待条件：存在一个处于等待的进程合集

处理死锁：
死锁预防：设置限制条件，破坏死锁必要条件
- 允许系统资源都能共享使用，则系统不会进入死锁状态
- 当一个已保持了某些不可剥夺资源的进程请求新的资源而得不到满足时，它必须释放已经保持的所有资源
- 运行前一次申请完它所需要的全部资源
- 采用顺序资源分配法

死锁的检测及解除：
资源剥夺法：挂起某些死锁进程，并抢占它的资源，将这些资源分配给其他的死锁进程
撤销进程法：强制撤销部分甚至全部死锁进程并剥夺这些进程
进程回退法：让一（多个）个进程回退到足以避免死锁的地步，进程回退时间资源释放而非剥夺

#### ⭐11. 银行家算法，安全序列


#### 12.⭐ 进程调度算法 短作业优先，高优先权优先，高响应比优先（这里有拔高题 高响应比要知道怎么算）


#### 13.⭐死锁定理 图不能完全简化


#### 14.内存管理      
内存管理的主要功能：
- 内存空间的分配与回收
- 地址转换
- 内存空间的扩充
- 内存共享
- 存储保护

##### 分区
单一连续分配：仅有一道用户程序，整个内存的用户空间由该程序独占 **无外部碎片、有内部碎片**
固定分区分配：它将用户内存划分为若干固定大小的区域，每个分区只装入一道作业 **无外部碎片，有内部碎片**
动态分区分配：根据需要动态分配内存 **无内部碎片 有外部碎片**


==分页考虑系统管理，分段考虑用户的需要==
##### ⭐分页
**分页不会产生外部碎片 会产生内部碎片**
地址结构：页号P|页内偏移量W（❗如何分配）
基地址变换 ：将逻辑地址转换为内存中的物理地址
①计算页号（P=A/L）和页内偏移量(W=A%L)
②比较页号P和页表长度M，若P>=M则产生越界中断
③页表项地址 = 页表始地址F+页号Px页表项长度
④计算E=bxL+W用来得到物理地址

位移量决定页的大小

❗带快表和不带快表的地址转化过程


##### 分段
目的：提高内存的利用率
段号位数决定了进程最多可以分几个段
段内地址决定了每个段的最大长度
地址结构：段号S|段内偏移量W  段号|段长|本段在主存的始址

段逻辑地址变成物理地址
①从逻辑地址A中取出前几位为段号S，后几位为段内偏移量
②比较段号S和段表长度M，若S>=M，则产生越界中断
③段表中段号S对应的段表项地址 = 段表始址F+段号Sx段表项长度
④去除段表项该段的始地址b，计算E=b+W


#### 15. 什么叫虚拟存储
仅需程序当前要运行的少数页面或段先装入内存，将其余部分暂留在外存
三大特征：
- 多次性：无须一次性地全部装入内存，允许分为多次
- 对换性
- 虚拟性：逻辑上扩充内存的容量


#### 16. 虚拟存储的实现
##### 请求分页存储管理

| 页号  | 物理快号 | 状态位P      | 访问字段A       | 修改位M       | 外存地址 |
| --- | ---- | --------- | ----------- | ---------- | ---- |
|     |      | 该页是否已调入内存 | 一段时间内被访问的次数 | 调入内存是否被修改过 |      |
|     |      |           |             |            |      |



##### 请求分段存储管理


##### 请求段页式存储管理


#### 17. IO层次   
##### IO层次
![](images/Pasted%20image%2020241215134949.png)
①用户层I/O软件：
实现与用户交互的接口，用户可直接调用在用户层提供的、与I/O有关的库函数
②设备独立性软件：
实现用户程序与设备驱动器的同一接口、设备命令、设备的保护及设备的分配与释放
好处
- 增加设备分配灵活性
- 易于实现I/O重定向
主要功能：
- 执行所有设备的公有操作
- 向用户层提供同一的接口
③设备驱动程序：
与硬件直接相关，负责具体实现系统对设备发出的操作指令，驱动I/O设备工作的驱动程序
④中断处理程序：
保护被中断的CPU环境
主要任务：
- 进行进程上下文切换
- 对处理中断信号源进行测试
- 读取设备状态和修改进程状态


##### IO控制方式（4种）
（1）程序直接控制方式

（2）中断驱动方式

（3）DMA方式

（4）通道控制方式


##### 设备分配的秩序
①设备分配方式：静态分配和动态分配
静态分配用于独占设备的分配，在作业开始执行前，一次性分配该作业所要求的全部设备、控制器
动态分配在进程执行过程中格局执行需要进行

##### 通道 

##### 设备无关性

#### 18. Spooling技术 知道即可 为什么要缓冲
**（一）输入 Spooling**
1. 当一个进程要求输入数据时，操作系统并不是直接从输入设备读取数据给该进程，而是先将输入数据从输入设备读到一个输入缓冲区中。
2. 然后，操作系统将输入缓冲区中的数据写入到磁盘的特定区域（通常称为输入井）。
3. 当进程需要数据时，就从输入井中读取数据。这样，输入设备可以持续地向输入井写入数据，而进程可以在需要时从输入井中读取数据，实现了输入操作与进程的并行执行。
**（二）输出 Spooling**
1. 当一个进程要求输出数据时，操作系统并不是直接将数据输出到输出设备，而是先将数据写入到一个输出缓冲区中。
2. 然后，操作系统将输出缓冲区中的数据写入到磁盘的特定区域（通常称为输出井）。
3. 当输出设备空闲时，操作系统从输出井中取出数据并输出到输出设备上。这样，进程可以持续地向输出井写入数据，而输出设备可以在适当的时候从输出井中读取数据并输出，实现了输出操作与进程的并行执行。

假脱机技术
是一种以空间换时间的技术
特点：
①提高I/O设备的速度
②将独占设备改造为共享设备
③实现了虚拟设备功能


#### 19. 文件，那两类文件 文件管理的目标
无结构文件（流式文件）
适用于单位操作不多的文件

有结构文件（记录式文件）
（1）顺序文件
（2）索引文件
（3）索引顺序文件
（4）直接文件或散列文件


#### 20. 逻辑号和物理号

